# GitHub Copilot Instructions

## 概要 / Overview

このファイルはGitHub Copilotがコードレビューやコード生成を行う際の指示事項を定義します。

## レビュールール / Review Rules

### 言語設定
- レビューは日本語で行ってください
- コメントやフィードバックはすべて日本語で記載してください

### 技術スタック
- C++98標準に準拠したコードのみをレビュー対象とします

### レビュープレフィックス
レビューする際には、以下のprefixをつけてください：

- `[must]` → 必須の変更（セキュリティ、バグ、重大な問題）
- `[imo]` → 自分の意見だとこうだけど修正必須ではない（改善提案）
- `[nits]` → ささいな指摘（スタイル、命名規則など）
- `[info]` → 情報提供（参考になる情報、ベストプラクティス）
- `[ask]` → 質問（意図の確認、詳細説明の要求）

## 追加の推奨事項

### コーディング規約
- .clang-tidyを参照
### 早期リターン推奨事項
1. **ガード節の積極的な採用**
    - [must] 関数の冒頭でエラー条件をチェックし、早期リターンする
    - [imo] ネストを浅くするために早期リターンを優先的に使用
    - [info] 早期リターンはコードの可読性と保守性を向上させます
2. 実装例
```cpp
// 推奨スタイル（早期リターン）
int processData(const Data* data) {
    if (data == NULL) {  // ガード節
        return -1;       // 早期リターン
    }
    if (!data->isValid()) {
        return -2;       // 早期リターン
    }
    
    // 正常処理
    return 0;
}

// 非推奨スタイル（深いネスト）
int processData(const Data* data) {
    if (data != NULL) {
        if (data->isValid()) {
            // 長い処理...
            return 0;
        } else {
            return -2;
        }
    } else {
        return -1;
    }
}
```

### レビューの重点項目
1. **メモリ管理**
   - メモリリークの確認
   - 適切なdelete/delete[]の使用
   - RAIIパターンの活用

2. **エラーハンドリング**
   - 例外処理の適切な実装
   - NULLポインタチェック
   - 境界値チェック

3. **パフォーマンス**
   - 不要なコピーの回避
   - 参照渡しの活用
   - 適切なアルゴリズムの選択

4. **可読性**
   - 適切なコメントの記載
   - 複雑なロジックの分割
   - マジックナンバーの定数化

### コメントスタイル
```cpp
// [must] NULLポインタチェックが必要です
if (ptr != NULL) {
    // 処理
}

// [imo] constを付けることで意図が明確になります
void processData(const std::string& data);

// [nits] インデントが不揃いです
// [info] std::vectorを使用することで動的配列の管理が簡単になります
// [ask] この処理の目的は何ですか？
```

### セキュリティチェックリスト
- バッファオーバーフローの確認
- 入力値の検証
- 整数オーバーフローの確認
- 適切な権限チェック

### 禁止事項
- グローバル変数の過度な使用
- goto文の使用（特別な理由がない限り）
- 未初期化変数の使用
- 危険な関数（gets, strcpy等）の使用
- C++11以降の機能

## その他の設定

### ファイル形式
- 文字コード: UTF-8
- 改行コード: LF
- ファイル末尾に改行を含める

### ドキュメント
- 関数にはDoxygenスタイルのコメントを記載
- 複雑なアルゴリズムには説明を追加
- TODOコメントには担当者と期限を記載
